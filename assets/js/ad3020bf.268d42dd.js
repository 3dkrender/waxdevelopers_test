"use strict";(self.webpackChunkwaxdevelopers=self.webpackChunkwaxdevelopers||[]).push([[1004],{3905:(e,t,o)=>{o.d(t,{Zo:()=>u,kt:()=>m});var n=o(7294);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var l=n.createContext({}),p=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):r(r({},t),e)),o},u=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},c="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var o=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=p(o),d=a,m=c["".concat(l,".").concat(d)]||c[d]||h[d]||i;return o?n.createElement(m,r(r({ref:t},u),{},{components:o})):n.createElement(m,r({ref:t},u))}));function m(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=o.length,r=new Array(i);r[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:a,r[1]=s;for(var p=2;p<i;p++)r[p]=o[p];return n.createElement.apply(null,r)}return n.createElement.apply(null,o)}d.displayName="MDXCreateElement"},7301:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var n=o(7462),a=(o(7294),o(3905));const i={title:"Creating a bp.json",nav_order:142,layout:"default",parent:"WAX Block Producer","lang-ref":"Creating a bp.json",lang:"en"},r=void 0,s={unversionedId:"wax-bp/bp-json",id:"wax-bp/bp-json",title:"Creating a bp.json",description:"Note: The current bp.json standard is updated in the GitHub Repository. This guide will explain everything you need to get started. You can find the latest updates in the Repository",source:"@site/docs/wax-bp/bp-json.md",sourceDirName:"wax-bp",slug:"/wax-bp/bp-json",permalink:"/waxdevelopers_test/docs/wax-bp/bp-json",draft:!1,editUrl:"https://github.com/wax-office-of-inspector-general/wax-developer/tree/main/docs/wax-bp/bp-json.md",tags:[],version:"current",frontMatter:{title:"Creating a bp.json",nav_order:142,layout:"default",parent:"WAX Block Producer","lang-ref":"Creating a bp.json",lang:"en"},sidebar:"tutorialSidebar",previous:{title:"WAX Block Producer",permalink:"/waxdevelopers_test/docs/wax-bp/"},next:{title:"Creating a chains.json",permalink:"/waxdevelopers_test/docs/wax-bp/chains-json"}},l={},p=[{value:"What is a bp.json?",id:"what-is-a-bpjson",level:2},{value:"Creating the bp.json",id:"creating-the-bpjson",level:2},{value:"General Information:",id:"general-information",level:3},{value:"Nodes",id:"nodes",level:3},{value:"bp.json for Mainnet AND Testnet",id:"bpjson-for-mainnet-and-testnet",level:2},{value:"Hosting your bp.json",id:"hosting-your-bpjson",level:2},{value:"Why push on-chain?",id:"why-push-on-chain",level:2},{value:"1. Pushing via Cleos",id:"1-pushing-via-cleos",level:2},{value:"Variables:",id:"variables",level:3},{value:"2. Pushing via bloks.io",id:"2-pushing-via-bloksio",level:2},{value:"Go to the producerjson contract:",id:"go-to-the-producerjson-contract",level:3},{value:"Fill out the information and submit",id:"fill-out-the-information-and-submit",level:3},{value:"Custom permission",id:"custom-permission",level:2},{value:"Helpful Links",id:"helpful-links",level:2}],u={toc:p},c="wrapper";function h(e){let{components:t,...i}=e;return(0,a.kt)(c,(0,n.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Note: The current bp.json standard is updated in the GitHub Repository. This guide will explain everything you need to get started. You can find the latest updates in the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/eosrio/bp-info-standard"},"Repository")),(0,a.kt)("h2",{id:"what-is-a-bpjson"},"What is a bp.json?"),(0,a.kt)("p",null,"The bp.json contains the most important pieces of information about the block producer and their nodes, such as API-Endpoints, geographical location, emergency contacts, and more. The standardized form of the bp.json makes it easy for companies and individuals to use the block producer\u2019s nodes and information. Through this method sites such as (bloks.io) can e.g. get the profile picture for your guild. Here are some examples of bp.json for the WAX Mainnet:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://eosnation.io/wax.json"},"https://eosnation.io/wax.json")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://blacklusion.io/wax.json"},"https://blacklusion.io/wax.json")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://waxsweden.org/wax.json"},"https://waxsweden.org/wax.json"))),(0,a.kt)("h2",{id:"creating-the-bpjson"},"Creating the bp.json"),(0,a.kt)("p",null,"You can copy the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/eosrio/bp-info-standard/blob/master/bp.json"},"template bp.json")," into your Texteditor of choice.\nEvery information you have to fill out should be pretty straight forward, however we will cover the most important anyways. If you need further information, have a look at the GitHub repo above and read some bp.json from other guilds:"),(0,a.kt)("h3",{id:"general-information"},"General Information:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"producer_account_name"),": ",(0,a.kt)("br",null),"\nSelf-explanatory. However, if you are not familiar with the naming scheme in the Antelope ecosystem: It is important to note, that you have to use the name that you also have used (or are planning to use) for the action \u201cregproducer\u201d. That means that your official guild name may differ from the guild name you use on-chain.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"candidate_name"),":",(0,a.kt)("br",null),"\nThis is the field, where you can fill in the official name of your guild. Spaces are allowed.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"github_user"),":",(0,a.kt)("br",null),"\nImportant: List atleast one GitHub Account from your team here. These accounts could potentially be used to give you access to private Repositories.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"chain_resources"),":",(0,a.kt)("br",null),"\nYou can list one website here, containing links to your chain related resources, such as snapshot sites or backups. An array is not allowed here.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"other_resources"),":",(0,a.kt)("br",null),"\nGot any awesome tools or services you are providing? Great, you can list an array containing all the links to the services under this section.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Social accounts"),":",(0,a.kt)("br",null),"\nI think we don\u2019t have to explain how to fill in your social information here. However, it is important that someone of your guild actually regularly checks these accounts since this is how someone may contact you in case of an emergency."))),(0,a.kt)("h3",{id:"nodes"},"Nodes"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Node location"),":",(0,a.kt)("br",null),"\nHow to get the coordinates of the nodes? The simplest way is to use ",(0,a.kt)("a",{parentName:"p",href:"https://www.google.com/maps"},"Google Maps"),". Just click with the mouse on to the map where you want to have the location of the node. A small popup should appear, containing two numbers. The first number is the latitude and the latter the longitude.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Node type"),":",(0,a.kt)("br",null),"\nPick ",(0,a.kt)("strong",{parentName:"p"},"producer"),", if you are listing a producer node. Pick ",(0,a.kt)("strong",{parentName:"p"},"seed")," if you are listing a p2p-node. Pick ",(0,a.kt)("strong",{parentName:"p"},"query")," if you are listing an API node.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Features (only if node type query)"),":",(0,a.kt)("br",null),"\nChances are, you are not only hosting a \u201cnormal\u201d chain-Api, but you are also hosting a additional services such as a History. You can specify which services you are hosting with the feature section. Have a look here at the available features and list them accordingly. Your typical Setup with History v1 & Hyperion & Wallet Api enabled will have the following features:"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'["chain-api", "account-query", "history-v1", "hyperion-v2"]\n')),(0,a.kt)("p",null,"Hosting an Atomic Assets API would have the following features array:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'["atomic-assets-api"]\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Endpoints"),":",(0,a.kt)("br",null),"\nSelf-explanatory. However keep in mind that you may want to produce on multiple chains, therefore choosing domains such as \u201cpeer.waxproducer.io\u201d is not suitable. Instead, use a domain containing the chain\u2019s name. Such as \u201cpeer1.wax.waxproducer.io\u201d. To get an idea, what domains to use, have a look at the endpoints on the ",(0,a.kt)("a",{parentName:"li",href:"https://validate.eosnation.io/wax/reports/endpoints.html"},"Validator")," or ",(0,a.kt)("a",{parentName:"li",href:"https://wax.validationcore.io/reports/nodes/seed"},"Validationcore")," of other block producers.")),(0,a.kt)("h2",{id:"bpjson-for-mainnet-and-testnet"},"bp.json for Mainnet AND Testnet"),(0,a.kt)("p",null,'Since many block producers are active on multiple chains (this is even the case when you are producing on both the Mainnet and Testnet), the bp.json is not actually named bp.json but after the chains name (different names for Testnet and Mainnet). So for the WAX Mainnet, this would be \u201cwax.json\u201d and for the Testnet e.g. \u201cwax-testnet.json\u201d or "waxtest.json\u201d.'),(0,a.kt)("h2",{id:"hosting-your-bpjson"},"Hosting your bp.json"),(0,a.kt)("p",null,"Now, that we have written and named your bp.json. All that is left to do, is to host the JSON on your website. This has to be the same URL you have used (or are planning to use) for the \u201cregproducer\u201d action. So basically just your standard domain. Please don\u2019t use something like \u201cresources.example.com\u201d, just stick to e.g.\u201cexample.com\u201d."),(0,a.kt)("p",null,'Just host the bp.json at the root of that domain. So for example "example.com/wax.json\u201d.'),(0,a.kt)("h1",{id:"pushing-the-bpjson-on-chain"},"Pushing the bp.json on-chain"),(0,a.kt)("p",null,"If you have successfully created and hosted your ",(0,a.kt)("a",{parentName:"p",href:"/docs/wax-bp/bp-json"},"bp.json"),", the next step would be to push that bp.json on-chain."),(0,a.kt)("h2",{id:"why-push-on-chain"},"Why push on-chain?"),(0,a.kt)("p",null,"Bp.jsons that are published on-chain offer a couple of benefits over those that are hosted on a website:"),(0,a.kt)("p",null,"The bp.json will still be available even if the website is temporarily offline. Dapps can easily find all producerjsons in a single place. The signature from the block producer\u2019s account offers verification of the bp.json and history with more insights about the changes in a producerjson is provided."),(0,a.kt)("h2",{id:"1-pushing-via-cleos"},"1. Pushing via Cleos"),(0,a.kt)("p",null,"If you have Cleos installed on your machine and have added either your active or custom permission key (more on this later) to your wallet you can push the producerjson with a single command."),(0,a.kt)("h3",{id:"variables"},"Variables:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"URL")," = (optionally) If you have problems connecting to a local node or don\u2019t have hosted a node locally, use this option with one of the publicly available endpoints:\ne.g ",(0,a.kt)("inlineCode",{parentName:"li"},"-u https://wax.blacklusion.io")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"OWNER")," = Account name of producer:\ne.g. ",(0,a.kt)("inlineCode",{parentName:"li"},"blacklusionx")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"FILE")," = Filename of producerjson. You will have to:\ne.g. ",(0,a.kt)("inlineCode",{parentName:"li"},"wax.json")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"KEY")," = The name of you want to use for authentication:\ne.g ",(0,a.kt)("inlineCode",{parentName:"li"},"active")," or ",(0,a.kt)("inlineCode",{parentName:"li"},"producerjson"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'cleos URL push action producerjson set \'{"owner":"OWNER", "json": "\'printf %q $(cat FILE | tr -d "\\r")\'"}\' -p OWNER@KEY\n')),(0,a.kt)("p",null,"Just substitute the variables with your values."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'cleos -u https://wax.blacklusion.io push action producerjson set \'{"owner":"blacklusionx", "json": "\'printf %q $(cat wax.json | tr -d "\\r")\'"}\' -p blacklusionx@producerjson\n')),(0,a.kt)("h2",{id:"2-pushing-via-bloksio"},"2. Pushing via bloks.io"),(0,a.kt)("p",null,"Especially when you are starting out, bloks.io is a great option, since it offers a more user friendly way than a CLI-Command."),(0,a.kt)("h3",{id:"go-to-the-producerjson-contract"},"Go to the producerjson contract:"),(0,a.kt)("p",null,"Click on this ",(0,a.kt)("a",{parentName:"p",href:"https://waxblock.io/account/producerjson?action=set#contract-actions"},"link")," to access the producerjson smartcontract.\n",(0,a.kt)("img",{src:o(6365).Z,width:"2048",height:"1025"}),'{:class="img-responsive"}'),(0,a.kt)("h3",{id:"fill-out-the-information-and-submit"},"Fill out the information and submit"),(0,a.kt)("p",null,"Select \u201cset\u201d and fill in your information. As account name just use the account name you have registered producer with and for the json field just copy the actual content of your bp.json. Don\u2019t use the URL to your hosted bp.json here. Finally click on \u201cSubmit Transaction\u201d and choose your wallet of choice."),(0,a.kt)("p",null,(0,a.kt)("img",{src:o(70).Z,width:"2048",height:"1070"}),'{:class="img-responsive"}'),(0,a.kt)("p",null,"If you have done everything correctly bloks.io will confirm your successful transaction. You can have a look at this sample transaction ",(0,a.kt)("a",{parentName:"p",href:"https://waxblock.io/transaction/4bfb8f1219abd7f5e231bf54100c35604c0a655d6ff50925a472afdcf6e4bfe9"},"here"),"."),(0,a.kt)("p",null,(0,a.kt)("img",{src:o(2009).Z,width:"2048",height:"187"}),'{:class="img-responsive"}'),(0,a.kt)("h2",{id:"custom-permission"},"Custom permission"),(0,a.kt)("p",null,"For added security or if you often have to push the bp.json, we highly recommend using a dedicated key for pushing the bp.json. This prevents the key (or whatever script or person gets hold of it) to execute other actions."),(0,a.kt)("p",null,"The following pictures will show you which information you have to fill in, in order to set up the producerjson permission."),(0,a.kt)("p",null,(0,a.kt)("img",{src:o(4610).Z,width:"2048",height:"1023"}),'{:class="img-responsive"}\n',(0,a.kt)("img",{src:o(495).Z,width:"3152",height:"1028"}),'{:class="img-responsive"}'),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Important"),": Don't forget to update your ",(0,a.kt)("a",{parentName:"p",href:"/docs/getting-started/chains-json"},"chains.json")," to contain the name of your bp.json and the according chainId."),(0,a.kt)("h2",{id:"helpful-links"},"Helpful Links"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Official Repository: ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/eosrio/bp-info-standard"},"https://github.com/eosrio/bp-info-standard")),(0,a.kt)("li",{parentName:"ul"},"Tool to validate your bp.json: ",(0,a.kt)("a",{parentName:"li",href:"https://validate.eosnation.io/wax/producers/"},"https://validate.eosnation.io/wax/producers/"))))}h.isMDXComponent=!0},6365:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/img01-be3b323f2be89720bf09bcfb990f1e81.png"},70:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/img02-a54fa1e8877715faa5d4f46ac9294371.png"},2009:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/img03-e1bf84d01c74636ea0de934a7dd999d0.png"},4610:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/img04-1ace0abc58eb938ee46460077869c6be.png"},495:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/img05-11fd23e06f51e9702f400ef6b0d2e46e.png"}}]);