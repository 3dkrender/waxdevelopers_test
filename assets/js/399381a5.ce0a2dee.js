"use strict";(self.webpackChunkwaxdevelopers=self.webpackChunkwaxdevelopers||[]).push([[4879],{3905:(e,t,o)=>{o.d(t,{Zo:()=>u,kt:()=>h});var i=o(7294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t){if(null==e)return{};var o,i,n=function(e,t){if(null==e)return{};var o,i,n={},s=Object.keys(e);for(i=0;i<s.length;i++)o=s[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)o=s[i],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var l=i.createContext({}),c=function(e){var t=i.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):r(r({},t),e)),o},u=function(e){var t=c(e.components);return i.createElement(l.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var o=e.components,n=e.mdxType,s=e.originalType,l=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),p=c(o),d=n,h=p["".concat(l,".").concat(d)]||p[d]||m[d]||s;return o?i.createElement(h,r(r({ref:t},u),{},{components:o})):i.createElement(h,r({ref:t},u))}));function h(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=o.length,r=new Array(s);r[0]=d;var a={};for(var l in t)hasOwnProperty.call(t,l)&&(a[l]=t[l]);a.originalType=e,a[p]="string"==typeof e?e:n,r[1]=a;for(var c=2;c<s;c++)r[c]=o[c];return i.createElement.apply(null,r)}return i.createElement.apply(null,o)}d.displayName="MDXCreateElement"},8904:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var i=o(7462),n=(o(7294),o(3905));const s={title:"Custom Permissions",layout:"default",nav_order:96,parent:"Tutorials","lang-ref":"Custom Permissions",lang:"en"},r=void 0,a={unversionedId:"tutorials/custom-permissions",id:"tutorials/custom-permissions",title:"Custom Permissions",description:"Why custom permissions?",source:"@site/docs/tutorials/custom-permissions.md",sourceDirName:"tutorials",slug:"/tutorials/custom-permissions",permalink:"/waxdevelopers_test/docs/tutorials/custom-permissions",draft:!1,editUrl:"https://github.com/3dkrender/waxdevelopers_test/tree/main/docs/tutorials/custom-permissions.md",tags:[],version:"current",frontMatter:{title:"Custom Permissions",layout:"default",nav_order:96,parent:"Tutorials","lang-ref":"Custom Permissions",lang:"en"},sidebar:"tutorialSidebar",previous:{title:"Test Your WAX RNG Contract",permalink:"/waxdevelopers_test/docs/tutorials/create-wax-rng-smart-contract/rng_test"},next:{title:"How-To AtomicAssets",permalink:"/waxdevelopers_test/docs/tutorials/howto_atomicassets/"}},l={},c=[{value:"Why custom permissions?",id:"why-custom-permissions",level:2},{value:"How can I create custom permissions?",id:"how-can-i-create-custom-permissions",level:2},{value:"Step 1: Navigate to the wallet section of your account",id:"step-1-navigate-to-the-wallet-section-of-your-account",level:3},{value:"Step 2: Navigate to Keys and Permissions",id:"step-2-navigate-to-keys-and-permissions",level:3},{value:"Step 3: Navigate to Advanced",id:"step-3-navigate-to-advanced",level:3},{value:"Step 4: Creating a new Permission",id:"step-4-creating-a-new-permission",level:3},{value:"Step 5: Assign Contract Action to the permission",id:"step-5-assign-contract-action-to-the-permission",level:3},{value:"Helpful Links",id:"helpful-links",level:2}],u={toc:c},p="wrapper";function m(e){let{components:t,...s}=e;return(0,n.kt)(p,(0,i.Z)({},u,s,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"why-custom-permissions"},"Why custom permissions?"),(0,n.kt)("p",null,"Having more than the standard \u201cactive\u201d and \u201cowner\u201d keys linked to your account gives you the possibility to assign certain permissions to specific keys. This can be useful for many scenarios, but in use-case in particular single permission keys come in handy: When working with scripts."),(0,n.kt)("p",null,"Let\u2019s say you are running a cronjob on your server, that claims your rewards on a daily basis. Letting that script sign transactions with your normal active or even owner key would result in a huge security threat. Whoever gets hold of that script, could modify it to additionally sign other transactions, such as updating your account details or unregging your producer."),(0,n.kt)("p",null,"Instead, if you use a custom permission key for that script, the script will only be limited to that specific action the key is entitled to execute, regardless if the script was modified or the key was stolen."),(0,n.kt)("h2",{id:"how-can-i-create-custom-permissions"},"How can I create custom permissions?"),(0,n.kt)("p",null,"The most user-friendly way to create custom keys is by using bloks.io. In the following few steps, we will cover how to create custom permission keys using ",(0,n.kt)("a",{parentName:"p",href:"https://wax.bloks.io"},"bloks.io"),"."),(0,n.kt)("h3",{id:"step-1-navigate-to-the-wallet-section-of-your-account"},"Step 1: Navigate to the wallet section of your account"),(0,n.kt)("p",null,"Make sure that you are logged in. It will be sufficient if you are logged in with your \u201cactive\u201d key.\n",(0,n.kt)("img",{alt:"img01",src:o(5556).Z,width:"2048",height:"1068"})),(0,n.kt)("h3",{id:"step-2-navigate-to-keys-and-permissions"},"Step 2: Navigate to Keys and Permissions"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"img02",src:o(4089).Z,width:"2048",height:"1068"})),(0,n.kt)("h3",{id:"step-3-navigate-to-advanced"},"Step 3: Navigate to Advanced"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"img03",src:o(5852).Z,width:"2048",height:"1068"})),(0,n.kt)("h3",{id:"step-4-creating-a-new-permission"},"Step 4: Creating a new Permission"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"img04",src:o(7148).Z,width:"2048",height:"1068"})),(0,n.kt)("p",null,"Click on ",(0,n.kt)("strong",{parentName:"p"},"\u201cAdd New Permission\u201d"),": Type in the name of the permission you would like to create. The name is completely up to you. However, we would recommend something meaningful and appropriate for the permission."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Parent"),": Most of the time this will be \u201cactive\u201d. If you scroll down on bloks.io, you can see how the structure adapts, if you change the parent of the permission. Setting the parent to something other than \u201cactive\u201d will allow for more complex permission structures."),(0,n.kt)("p",null,"Click on ",(0,n.kt)("strong",{parentName:"p"},"\u201cAdd Key\u201d"),": Create a new private/public key with the generator of your choice (e.g. Anchor or Scatter Wallet) and paste the public key here. Note that there is a field to type in a number. This number determines the weight of the key and is used with the threshold feature."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Threshold"),": Each permission can be associated with multiple keys and/or accounts. A custom weight can be assigned to each of them, allowing for more fine-grained access control. When creating permissions for scripts, you will most likely not need this feature. However, it is a pretty cool feature. A possible scenario would be, to set the threshold to the number of team members of your guild, requiring every team member to sign the transaction rather than only one."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Account"),": If your aim is to add permission management to your scripts or cron-jobs, you will most likely not need this feature. Adding accounts instead of keys can be useful for managing permissions if there are multiple people accessing the account. Basically, you can enter an account name into the \u201cactor\u201d field and specify the needed permission that the account needs to sign the transaction with (e.g. \u201cactive\u201d)."),(0,n.kt)("p",null,"Don\u2019t forget to click on ",(0,n.kt)("strong",{parentName:"p"},"\u201cSave permission\u201d"),". You will be prompted with a popup to sign the transaction."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"img05",src:o(8116).Z,width:"2048",height:"1068"})),(0,n.kt)("h3",{id:"step-5-assign-contract-action-to-the-permission"},"Step 5: Assign Contract Action to the permission"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"img06",src:o(556).Z,width:"2048",height:"1068"})),(0,n.kt)("p",null,"Navigate to ",(0,n.kt)("strong",{parentName:"p"},"\u201cLink Auth\u201d"),". Then enter the name of your previously created permission into the \u201cPermission\u201d field. Next you have to enter the name of the contract (e.g. \u201ceosio\u201d, \u201cdelphioracle\u201d etc.)."),(0,n.kt)("p",null,"Into the field \u201cContract Action\u201d you will have to enter the name of the action you want to perform (e.g.\u201dclaimrewards\u201d, \u201cwrite\u201d). If you scroll down, you will be able to see a preview of your permissions and contracts (however as of writing this article this feature was a bit laggy)."),(0,n.kt)("p",null,"Click on \u201cLink Auth\u201c and sign the transaction with the wallet of your choice."),(0,n.kt)("p",null,"Note that you may have to repeat this step if your task requires multiple actions (e.g. \u201cproducerjson::set\u201d and \u201cproducerjson::del\u201d."),(0,n.kt)("h2",{id:"helpful-links"},"Helpful Links"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Create custom permissions with GUI: ",(0,n.kt)("a",{parentName:"li",href:"https://wax.bloks.io"},"https://wax.bloks.io"))))}m.isMDXComponent=!0},5556:(e,t,o)=>{o.d(t,{Z:()=>i});const i=o.p+"assets/images/img01-61e04c2730f93596d6e598a0d168a348.png"},4089:(e,t,o)=>{o.d(t,{Z:()=>i});const i=o.p+"assets/images/img02-96f94eb2ecbe113ad9e2a19cfbcaf031.png"},5852:(e,t,o)=>{o.d(t,{Z:()=>i});const i=o.p+"assets/images/img03-b9efd2fb4549ab2e88d421ac85346c65.png"},7148:(e,t,o)=>{o.d(t,{Z:()=>i});const i=o.p+"assets/images/img04-39b9101d35e5615ca82b641b1d15363c.png"},8116:(e,t,o)=>{o.d(t,{Z:()=>i});const i=o.p+"assets/images/img05-5298e1794e0aa3d1dd445ddc3fa962c1.png"},556:(e,t,o)=>{o.d(t,{Z:()=>i});const i=o.p+"assets/images/img06-3739b68d8cc74b527c55dda7db2dfeb2.png"}}]);