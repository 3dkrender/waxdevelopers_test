"use strict";(self.webpackChunkwaxdevelopers=self.webpackChunkwaxdevelopers||[]).push([[5402],{3905:(e,t,o)=>{o.d(t,{Zo:()=>u,kt:()=>h});var a=o(7294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e,t){if(null==e)return{};var o,a,r=function(e,t){if(null==e)return{};var o,a,r={},n=Object.keys(e);for(a=0;a<n.length;a++)o=n[a],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)o=n[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):s(s({},t),e)),o},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var o=e.components,r=e.mdxType,n=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=c(o),m=r,h=p["".concat(l,".").concat(m)]||p[m]||d[m]||n;return o?a.createElement(h,s(s({ref:t},u),{},{components:o})):a.createElement(h,s({ref:t},u))}));function h(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var n=o.length,s=new Array(n);s[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[p]="string"==typeof e?e:r,s[1]=i;for(var c=2;c<n;c++)s[c]=o[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,o)}m.displayName="MDXCreateElement"},4694:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>n,metadata:()=>i,toc:()=>c});var a=o(7462),r=(o(7294),o(3905));const n={title:"boost.wax",layout:"default",nav_order:2,parent:"WAX Cloud Wallet","lang-ref":"boost.wax",lang:"en"},s=void 0,i={unversionedId:"wax-cloud-wallet/boost-wax",id:"wax-cloud-wallet/boost-wax",title:"boost.wax",description:"This contract registers other contracts that wish to have WAX apply extended management over CPU and Net for their WAX Cloud Wallet users.",source:"@site/docs/wax-cloud-wallet/boost-wax.md",sourceDirName:"wax-cloud-wallet",slug:"/wax-cloud-wallet/boost-wax",permalink:"/waxdevelopers_test/docs/wax-cloud-wallet/boost-wax",draft:!1,editUrl:"https://github.com/3dkrender/waxdevelopers_test/tree/main/docs/wax-cloud-wallet/boost-wax.md",tags:[],version:"current",frontMatter:{title:"boost.wax",layout:"default",nav_order:2,parent:"WAX Cloud Wallet","lang-ref":"boost.wax",lang:"en"},sidebar:"tutorialSidebar",previous:{title:"WAX Cloud Wallet",permalink:"/waxdevelopers_test/docs/wax-cloud-wallet/"},next:{title:"WaxJS Overview",permalink:"/waxdevelopers_test/docs/wax-cloud-wallet/waxjs/"}},l={},c=[{value:"WAX Cloud Wallet Resource Model",id:"wax-cloud-wallet-resource-model",level:2},{value:"dApp Boost Resource Pool Tier",id:"dapp-boost-resource-pool-tier",level:3},{value:"User Boost Resource Pool Tier",id:"user-boost-resource-pool-tier",level:3},{value:"RAM Boost",id:"ram-boost",level:3},{value:"API",id:"api",level:2}],u={toc:c},p="wrapper";function d(e){let{components:t,...o}=e;return(0,r.kt)(p,(0,a.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This contract registers other contracts that wish to have WAX apply extended management over CPU and Net for their WAX Cloud Wallet users."),(0,r.kt)("p",null,"Deployed to: ",(0,r.kt)("a",{parentName:"p",href:"https://waxblock.io/account/boost.wax"},"boost.wax")),(0,r.kt)("h2",{id:"wax-cloud-wallet-resource-model"},"WAX Cloud Wallet Resource Model"),(0,r.kt)("p",null,"The resource allocation model for WAX Cloud Wallet accounts was designed to be based on account activity. Instead of allocating resources to each WAX Cloud Wallet account at the time of creation, the new resource model allocates necessary resources to each account at the time of executing and signing of a transaction. These resources are then reclaimed. This new model allows for pooling resources from accounts that are less active at the moment and use those resources to boost activity of active accounts. This new boost system is designed as a tiered resource pool system with two resource tiers being checked first for available bandwidth before a user would be required to provide resources to complete a transaction from their own WAXP resource stake."),(0,r.kt)("h3",{id:"dapp-boost-resource-pool-tier"},"dApp Boost Resource Pool Tier"),(0,r.kt)("p",null,"WAX Cloud Wallet will allocate up to 5 seconds of CPU and 5M words of NET bandwidth per dApp in a given 24h period; This equals to about 10000 boosted actions per dApp in that time period assuming 0.5 ms average action resource cost. The parameters of the dApp boost resource pool may be adjusted over time as more utilization data becomes available."),(0,r.kt)("p",null,"Additionally, each dApp can contribute their own WAXP to extend its dApp boost resource pool. dApp smart contract must have a permission called paybw, and it must be linked to the boost.wax#noop action. Furthermore, it must have a 1 of 1 authority using the account@permission boost.wax@paybw. As an example see the ",(0,r.kt)("a",{parentName:"p",href:"https://waxblock.io/account/test.wax#keys"},"test.wax@paybw permission"),"."),(0,r.kt)("p",null,"When initial dApp boost resource pool tier is exceeded, the WAX Cloud Wallet will sign for dApps users using this permission if it has sufficient CPU and NET allocated to its contract's account. Each dApp needs to also configure its dApp boost resource pool allocation per user via boost.wax smart contract via ",(0,r.kt)("a",{parentName:"p",href:"https://waxblock.io/account/boost.wax?action=reg#contract-actions"},"this action"),"."),(0,r.kt)("p",null,"If dApp pool has available resources then WAX Cloud Wallet will boost users' transactions from that dApp pool and decrement the pool metering accordingly."),(0,r.kt)("p",null,"WAX Cloud Wallet team reserves the right to disable dApp Boost Resource Pool for a given dApp."),(0,r.kt)("h3",{id:"user-boost-resource-pool-tier"},"User Boost Resource Pool Tier"),(0,r.kt)("p",null,"WAX Cloud Wallet will allocate up to 5 ms of CPU and 5k words of NET bandwidth per each user in a given 24h period. This equals to about 10 boosted actions per user in that time period assuming 0.5 ms average action resource cost. The parameters of the User Boost Resource Pool may be adjusted over time as more utilization data becomes available."),(0,r.kt)("p",null,"Both dApp Boost Resource Pool Tier and User Boost Resource Pool Tier must have resources in order for an action to be boosted by the new WAX Cloud Wallet resource mechanism. If either dApp Boost Resource Pool or User Boost Resource Pool has been exhausted then WAX Cloud Wallet will switch to using resources from the dApp\u2019s own staked resources, and if the user has exceeded the dApp\u2019s configured 24 hour bandwidth limit, WCW will switch to using the user\u2019s staked resources."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://github.com/worldwide-asset-exchange/boost.wax/blob/master/BoostDecisionTree.png?raw=true",alt:"alt text"}),'{:class="img-responsive"}'),(0,r.kt)("p",null,"This boost system allows for controlled resource metering, ensuring that each user has a necessary resource baseline enabling them to participate in NFT based activities like pack drops, pack opening, crafting, NFT buying and selling, and trading regardless of the current resource cost on the network."),(0,r.kt)("h3",{id:"ram-boost"},"RAM Boost"),(0,r.kt)("p",null,"WCW creates new accounts with the bare minimum RAM to successfully create each account. So that users can still execute transactions requiring RAM, WCW boosts RAM for any transaction that is successfully boosted for bandwidth under the paid by WAX tier. Currently WAX will fund up to 4096 bytes total account RAM including that required for account creation for any of these transactions. In the future, RAM boosts will available for the dApp paid tiers which will be paid by the relevant dApps if a transaction does not qualify for boosting under the WAX paid/user boost tier."),(0,r.kt)("h2",{id:"api"},"API"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://waxblock.io/account/boost.wax?action=reg#contract-actions"},(0,r.kt)("inlineCode",{parentName:"a"},"reg(name contract, uint64_t cpu_us_per_user, uint64_t net_words_per_user, bool use_allow_list, vector<name> allowed_contracts)")),"\nRegister your contract for bandwidth management.  ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"contract"),": the contract account to register. Must also be the account calling this action.  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"cpu_us_per_user"),": amount of cpu in microseconds to provide your users over a 24 hour period.  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"net_words_per_user"),": amount of net in microseconds to provide your users over a 24 hour period.  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"use_allow_list"),": turn allow list enforcement on or off."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"allowed_contracts"),": vector of contract name that are permitted to be in transactions accompanying your contract. Must have use_allow_list == true for these to be enforced. The idea is to prevent abuse by dapps that might sneak one of your contract actions into their transactions in order to take advantage of your bandwidth quota. By listing the cotnracts you accept in your contract's transactions, you will only pay with your own cpu+net if all transaction contracts are contained in this list.  ")))),(0,r.kt)("p",null,"Note: your contract must have a permission called ",(0,r.kt)("strong",{parentName:"p"},"paybw"),", and it must be linked to the ",(0,r.kt)("strong",{parentName:"p"},"boost.wax"),"#",(0,r.kt)("strong",{parentName:"p"},"noop")," action. Furthermore, it must have a 1 of 1 authority usuing the account@permission ",(0,r.kt)("inlineCode",{parentName:"p"},"boost.wax@paybw"),". As an example see the ",(0,r.kt)("a",{parentName:"p",href:"https://waxblock.io/account/test.wax#keys"},"test.wax@paybw permission"),". When the free tier is exceeded, the WAX backend will sign for your users using this permission if you have sufficient CPU and Net allocated to your contract's account."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://waxblock.io/account/boost.wax?action=dereg#contract-actions"},(0,r.kt)("inlineCode",{parentName:"a"},"dereg(name contract)"))),":\nDeregister your contract from bandwidth management.",(0,r.kt)("br",{parentName:"p"}),"\n","")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://waxblock.io/account/boost.wax?action=noop#contract-actions"},(0,r.kt)("inlineCode",{parentName:"a"},"noop()"))),":\nNo-op action inserted into WAX Cloud Wallet transactions that satisfy bandwidth management crtieria.  ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"boost(name from, name to, asset cpu, asset net)"),": ",(0,r.kt)("em",{parentName:"p"},"Deprecated"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"updateboost(name from, name to, asset cpu_to, asset net_to)"),": ",(0,r.kt)("em",{parentName:"p"},"Deprecated"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"unboost(name from, name to)"),": ",(0,r.kt)("em",{parentName:"p"},"Deprecated"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"boosterdel (name booster)"),": ",(0,r.kt)("em",{parentName:"p"},"Deprecated")))))}d.isMDXComponent=!0}}]);