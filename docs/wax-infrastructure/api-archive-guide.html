<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-wax-infrastructure/api-archive-guide">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">API Full/Partial Archive nodes | WAX Developers Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wax-office-of-inspector-general.github.io/waxdevelopers_test/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://wax-office-of-inspector-general.github.io/waxdevelopers_test/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://wax-office-of-inspector-general.github.io/waxdevelopers_test/docs/wax-infrastructure/api-archive-guide"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="API Full/Partial Archive nodes | WAX Developers Docs"><meta data-rh="true" name="description" content="WAX is a distributed network of computers running software (known as nodes) that can verify blocks and transaction data. You need WAX software, on your server to &quot;run&quot; a node. &quot;Node&quot; refers to running WAX software. WAX software verifies all transactions in each block, keeping the network secure and the data accurate."><meta data-rh="true" property="og:description" content="WAX is a distributed network of computers running software (known as nodes) that can verify blocks and transaction data. You need WAX software, on your server to &quot;run&quot; a node. &quot;Node&quot; refers to running WAX software. WAX software verifies all transactions in each block, keeping the network secure and the data accurate."><link data-rh="true" rel="icon" href="/waxdevelopers_test/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://wax-office-of-inspector-general.github.io/waxdevelopers_test/docs/wax-infrastructure/api-archive-guide"><link data-rh="true" rel="alternate" href="https://wax-office-of-inspector-general.github.io/waxdevelopers_test/docs/wax-infrastructure/api-archive-guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://wax-office-of-inspector-general.github.io/waxdevelopers_test/docs/wax-infrastructure/api-archive-guide" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/waxdevelopers_test/blog/rss.xml" title="WAX Developers Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/waxdevelopers_test/blog/atom.xml" title="WAX Developers Docs Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-00000000"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-00000000",{anonymize_ip:!0})</script><link rel="stylesheet" href="/waxdevelopers_test/assets/css/styles.20a91166.css">
<link rel="preload" href="/waxdevelopers_test/assets/js/runtime~main.b9214fbd.js" as="script">
<link rel="preload" href="/waxdevelopers_test/assets/js/main.5392daab.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/waxdevelopers_test/"><div class="navbar__logo"><img src="/waxdevelopers_test/img/favicon.ico" alt="WAX Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/waxdevelopers_test/img/favicon.ico" alt="WAX Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">WAX Developers Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/waxdevelopers_test/docs">Tutorial</a><a class="navbar__item navbar__link" href="/waxdevelopers_test/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/waxdevelopers_test/docs">Welcome to WAX</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/waxdevelopers_test/docs/wax-awesome">âœ¨ WAX Awesome</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/waxdevelopers_test/docs/category/wax-infrastructure-guide">WAX Infrastructure Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;WAX Infrastructure Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/waxdevelopers_test/docs/wax-infrastructure/api-archive-guide">API Full/Partial Archive nodes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waxdevelopers_test/docs/wax-infrastructure/atomic-api-guide">Atomic Assets/Market API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waxdevelopers_test/docs/wax-infrastructure/hyperion-guide">Full/Partial History nodes using Hyperion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waxdevelopers_test/docs/wax-infrastructure">WAX Infrastructure Guides</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waxdevelopers_test/docs/wax-infrastructure/wax-mainnet-node-load-balancer">How to Set Up a Reliable WAX Load Balancer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waxdevelopers_test/docs/wax-infrastructure/wax-mainnet-node-mitigate-abuse">How to Mitigate API abuse on a WAX Load Balancer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waxdevelopers_test/docs/wax-infrastructure/wax-mainnet-node">How to Set Up a Solid WAX Mainnet Node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waxdevelopers_test/docs/wax-infrastructure/wax-mainnet-ship-node">How to Set Up a WAX State-History Node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waxdevelopers_test/docs/wax-infrastructure/wax-snapshots">Using WAX Snapshots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waxdevelopers_test/docs/wax-infrastructure/wax-testnet-block-producer">Set Up a WAX Testnet Block Producer Node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waxdevelopers_test/docs/wax-infrastructure/wax-testnet-node">Set Up a WAX Testnet Node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/waxdevelopers_test/docs/wax-infrastructure/working-with-wax-software-files">Working with WAX Software Files and Folders</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/waxdevelopers_test/docs/api-reference">WAX API Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;WAX API Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/waxdevelopers_test/docs/atomic-assets">Atomic Assets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Atomic Assets&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/waxdevelopers_test/docs/dapp-development">dApp Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;dApp Development&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/waxdevelopers_test/docs/release-notes">Release Notes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Release Notes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/waxdevelopers_test/docs/tools">Tools &amp; Topics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tools &amp; Topics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/waxdevelopers_test/docs/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/waxdevelopers_test/docs/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/waxdevelopers_test/docs/wax-bp">WAX Block Producer</a><button aria-label="Toggle the collapsible sidebar category &#x27;WAX Block Producer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/waxdevelopers_test/docs/wax-cloud-wallet">WAX Cloud Wallet</a><button aria-label="Toggle the collapsible sidebar category &#x27;WAX Cloud Wallet&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/waxdevelopers_test/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/waxdevelopers_test/docs/category/wax-infrastructure-guide"><span itemprop="name">WAX Infrastructure Guide</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">API Full/Partial Archive nodes</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>API Full/Partial Archive nodes</h1></header><p>WAX is a distributed network of computers running software (known as nodes) that can verify blocks and transaction data. You need WAX software, on your server to &quot;run&quot; a node. &quot;Node&quot; refers to running WAX software. WAX software verifies all transactions in each block, keeping the network secure and the data accurate. </p><p>If you want to run your own node, you should understand that there are different types of node that consume and store data differently. In fact, WAX Software can be run in 3 different types of modes - peer, api, archive nodes. These setups also determine how quickly the node can get the most up-to-date information.</p><p>Archive nodes can be partial or full based on how they are started. These nodes contain the blocks, state history of the blockchain. Partial archive nodes are mainly started from snapshots so they don&#x27;t contain full history of the blockchain but only have the history from a specific block.</p><p>Archive nodes are also referred as State-History or Ship nodes.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="credits">Credits:<a href="#credits" class="hash-link" aria-label="Direct link to Credits:" title="Direct link to Credits:">â€‹</a></h4><p>@cc32d9, Eosphere Team</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pre-requisitesrequirements">Pre-requisites/Requirements:<a href="#pre-requisitesrequirements" class="hash-link" aria-label="Direct link to Pre-requisites/Requirements:" title="Direct link to Pre-requisites/Requirements:">â€‹</a></h3><ul><li><strong>Full State-History node Hardware(recommended specs):</strong> 4Ghz+ CPU speed, 128GB RAM, 8TB SSD or NvME <!-- -->[For a partial state-history, you can have lower specs as its started from a snapshot]</li><li><strong>Dependencies:</strong> v2.0.13wax01(WAX Software recommended version)</li><li><strong>OS:</strong> Ubuntu18.04 (recommended)</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bare-metal-infra-providers">Bare-Metal Infra providers:<a href="#bare-metal-infra-providers" class="hash-link" aria-label="Direct link to Bare-Metal Infra providers:" title="Direct link to Bare-Metal Infra providers:">â€‹</a></h4><ul><li><a href="https://www.hetzner.com/dedicated-rootserver" target="_blank" rel="noopener noreferrer" title="Hetzner">Hetzner</a></li><li><a href="https://www.leaseweb.us/dedicated-servers" target="_blank" rel="noopener noreferrer" title="Leaseweb">Leaseweb</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-and-installation">Setup and Installation:<a href="#setup-and-installation" class="hash-link" aria-label="Direct link to Setup and Installation:" title="Direct link to Setup and Installation:">â€‹</a></h3><p>After securing the servers and setting up the boot configuration and appropriate RAID modes, you can login to the server and follow the next commands below: </p><p>[Recommendation - Only setup root partition in Raid1 or Raid5 modes for now. We shall partition the disks later on after the boot and allocate them to a ZFS pool]</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="1-update-the-default-pacakages-and-install-new-ones">1. Update the default pacakages and install new ones<a href="#1-update-the-default-pacakages-and-install-new-ones" class="hash-link" aria-label="Direct link to 1. Update the default pacakages and install new ones" title="Direct link to 1. Update the default pacakages and install new ones">â€‹</a></h5><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apt-get update &amp;&amp; apt-get install -y vim htop aptitude git lxc-utils zfsutils-linux netfilter-persistent sysstat ntp gpg screen zstd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="2-for-better-cpu-performance">2. For better CPU performance:<a href="#2-for-better-cpu-performance" class="hash-link" aria-label="Direct link to 2. For better CPU performance:" title="Direct link to 2. For better CPU performance:">â€‹</a></h5><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apt-get install -y cpufrequtils</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &#x27;GOVERNOR=&quot;performance&quot;&#x27; | tee /etc/default/cpufrequtils</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl disable ondemand</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl restart cpufrequtils</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="3-create-disk-partitions">3. Create disk partitions<a href="#3-create-disk-partitions" class="hash-link" aria-label="Direct link to 3. Create disk partitions" title="Direct link to 3. Create disk partitions">â€‹</a></h5><p>First step is to determine the disks and their names using the commands below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">fdisk -l</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now after identifying the disk names, let&#x27;s partition them using the example command below, we need to create two partitions One for Swap and One for ZFS storage pool.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cfdisk /dev/nvme0n1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Do the above for all the disks on your server.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="4-increase-the-swap-size-as-its-usually-small-on-the-servers-from-hetzner-and-leaseweb">4. Increase the Swap size as its usually small on the servers from Hetzner and Leaseweb.<a href="#4-increase-the-swap-size-as-its-usually-small-on-the-servers-from-hetzner-and-leaseweb" class="hash-link" aria-label="Direct link to 4. Increase the Swap size as its usually small on the servers from Hetzner and Leaseweb." title="Direct link to 4. Increase the Swap size as its usually small on the servers from Hetzner and Leaseweb.">â€‹</a></h5><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkswap /dev/nvme0n1p5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkswap /dev/nvme1n1p5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now let&#x27;s add the Swap pools to the System&#x27;s FileSystem table by editing the file below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat &gt;&gt;/etc/fstab &lt;&lt;&#x27;EOT&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/nvme0n1p5     none            swap            defaults,pri=-2 0 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/nvme1n1p5     none            swap            defaults,pri=-2 0 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/nvme2n1p5     none            swap            defaults,pri=-2 0 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOT</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After editing, let&#x27;s enable the newly added Swap pool using the command below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">swapon -a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="5-create-zfs-storage-pool-based-on-your-requirements-with-zraid-or-mirror-etc-modes-a-good-resource-to-do-calculations-on-disk-sizes-httpwwwraidz-calculatorcom">5. Create ZFS storage pool based on your requirements with zraid or mirror etc modes. A good resource to do calculations on disk sizes: <a href="http://www.raidz-calculator.com/" target="_blank" rel="noopener noreferrer">http://www.raidz-calculator.com/</a><a href="#5-create-zfs-storage-pool-based-on-your-requirements-with-zraid-or-mirror-etc-modes-a-good-resource-to-do-calculations-on-disk-sizes-httpwwwraidz-calculatorcom" class="hash-link" aria-label="Direct link to 5-create-zfs-storage-pool-based-on-your-requirements-with-zraid-or-mirror-etc-modes-a-good-resource-to-do-calculations-on-disk-sizes-httpwwwraidz-calculatorcom" title="Direct link to 5-create-zfs-storage-pool-based-on-your-requirements-with-zraid-or-mirror-etc-modes-a-good-resource-to-do-calculations-on-disk-sizes-httpwwwraidz-calculatorcom">â€‹</a></h5><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">zpool create -o ashift=12 zfast raidz /dev/nvme0n1p6 /dev/nvme1n1p6 /dev/nvme2n1p6 [--&gt; adopt the partition names accordingly]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Disable ZFS access time Updates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; zfs set atime=off zfast</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Set ARC to only cache metadata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; sudo zfs set primarycache=all datavolume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Enable LZ4 compression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">zfs set compression=lz4 zfast</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">zfs create -o mountpoint=/home zfast/home [--&gt;Creates mountpoint]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="6-setup-ntp-to-ensure-the-clocks-are-in-sync">6. Setup NTP to ensure the clocks are in sync<a href="#6-setup-ntp-to-ensure-the-clocks-are-in-sync" class="hash-link" aria-label="Direct link to 6. Setup NTP to ensure the clocks are in sync" title="Direct link to 6. Setup NTP to ensure the clocks are in sync">â€‹</a></h5><p>It is important to have this as a peer-to-peer blockchain network to have synchronised time across all nodes. Chrony is an excellent NTP client and is quite suitable for the needs of WAX Mainnet.</p><p>Install, configure and verify as below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#Install Chrony</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; sudo apt install chrony</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#If necessary manually add local peers, these are AU servers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; sudo nano /etc/chrony/chrony.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server 0.pool.ntp.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server 1.pool.ntp.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server 2.pool.ntp.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server 3.pool.ntp.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Restart Chrony</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; sudo /etc/init.d/chrony restart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Verify</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; chronyc sources -v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; chronyc tracking</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Set your local timezone if necessary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; sudo timedatectl set-timezone Europe/Stockholm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="7-setup-stack-limits-and-openfiles-on-your-server">7. Setup Stack Limits and Openfiles on your server<a href="#7-setup-stack-limits-and-openfiles-on-your-server" class="hash-link" aria-label="Direct link to 7. Setup Stack Limits and Openfiles on your server" title="Direct link to 7. Setup Stack Limits and Openfiles on your server">â€‹</a></h5><p>The default Stack Limits and Number of Open Files in Ubuntu 18.04 should be increased to support the WAX software memory requirements and the number of API requests on a Production Mainnet Node.</p><p>Configure and verify the raised limits as below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; sudo nano /etc/systemd/system.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Append the following configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DefaultLimitNOFILE=64000 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DefaultLimitSTACK=65536000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Restart server and verify</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; ulimit -a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><p>Now that we have setup the server and disk storage in a good way, let&#x27;s go ahead with the next steps to build and setup the State-History nodes.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="8-build-and-configure-the-software">8. Build and Configure the Software:<a href="#8-build-and-configure-the-software" class="hash-link" aria-label="Direct link to 8. Build and Configure the Software:" title="Direct link to 8. Build and Configure the Software:">â€‹</a></h5><p>WAX software is an open-source modified version of Antelope software to suit the needs of the WAX Network.Currently the WAX accepted software build and version is v2.0.13wax01 created by <a href="https://cc32d9.medium.com/" target="_blank" rel="noopener noreferrer">cc32d9</a> who is a member of the <a href="https://eosamsterdam.net/" target="_blank" rel="noopener noreferrer">EOS Amsterdam Guild</a></p><p>The latest waxbuild tag is always available on the <a href="https://github.com/worldwide-asset-exchange/wax-blockchain/tags" target="_blank" rel="noopener noreferrer">WAX Github</a>.</p><p><strong>Manual Build</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/worldwide-asset-exchange/wax-blockchain.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd wax-blockchain</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout v2.0.13wax01</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git submodule update --init --recursive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd scripts &gt; ./eosio_build.sh -P./eosio_install.sh </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#If you want to install. Binaries are in ~/wax2.0/build/programs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As the -P option is used on the build script this may take some time to compile as it will build with pinned clang and libcxx</p><p><strong>Pre-Build Packages</strong>
WAX Sweden team offers Pre-Build packages that can be easily installed. You can find them here: <a href="https://eosswedenorg.github.io/apt/wax" target="_blank" rel="noopener noreferrer">https://eosswedenorg.github.io/apt/wax</a>
Please visit the above link and follow the provided instructions.</p><p><strong>Configuration</strong></p><p>Now that WAX Software is installed, let&#x27;s go ahead and configure the state-history setup:</p><p>There are different components in the software like nodeos, cleos, keosd etc. <strong>nodeos</strong> is the core service which runs the protocol and is used across all the nodes. The configuration of nodeos is done using config.ini file. The settings of this file determine what kind of node you are running.</p><p>Follow the below steps to config the nodeos:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir /home/data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir /home/conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd /home/data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nano config.ini</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Below is an example <strong>mainnnet</strong> config.ini file which is customized to setup state-history node, you can just copy and paste:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">wasm-runtime = eos-vm-jit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">eos-vm-oc-compile-threads = 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">eos-vm-oc-enable = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">read-mode = head</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contracts-console = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chain-state-db-size-mb = 131072</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chain-state-db-guard-size-mb = 1024</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chain-threads = 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http-threads = 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Safely shut down node when less free space</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chain-state-db-guard-size-mb = 128</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reversible-blocks-db-guard-size-mb = 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">disable-subjective-p2p-billing = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http-server-address = 0.0.0.0:8888</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">access-control-allow-origin = *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">access-control-allow-headers = Origin, X-Requested-With, Content-Type, Accept</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http-max-response-time-ms = 100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">verbose-http-errors = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http-validate-host = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Peering endpoint config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p-listen-endpoint = 0.0.0.0:9876</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p-server-address = 0.0.0.0:9876</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># State History Settings (need add to start params --disable-replay-opts )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plugin = eosio::state_history_plugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">state-history-dir = state-history</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">trace-history = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chain-state-history = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">state-history-endpoint = 0.0.0.0:8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">allowed-connection = any</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">max-clients = 150</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">connection-cleanup-period = 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sync-fetch-span = 2000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enable-account-queries = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Core Blockchain plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plugin = eosio::chain_plugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plugin = eosio::chain_api_plugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plugin = eosio::http_plugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Peers list - Refer this link for mainnet latest peers: https://validate.eosnation.io/wax/reports/config.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># alohaeosprod: US, Oregon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p-peer-address = peer.wax.alohaeos.com:9876</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># blacklusionx: DE, Germany</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p-peer-address = peer1.wax.blacklusion.io:4646</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># blacklusionx: DE, Germany</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p-peer-address = peer1-emea.wax.blacklusion.io:4646</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># bp.wecan: US, NewYork</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p-peer-address = seed3-wax-mainnet.wecan.dev:14998</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># dapplica: DE, Germany-Finland</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p-peer-address = wax.dapplica.io:9876</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># eosarabianet: DE, Munich</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p-peer-address = p2p-wax.eosarabia.net:9876</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># eosdacserver: GB, United Kingdom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p-peer-address = wax-p2p.eosdac.io:29876</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># eosdublinwow: FI, Finland</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p-peer-address = wax.p2p.eosdublin.io:9876</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># eoseouldotio: JP, Seoul</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p-peer-address = p2p.wax.eoseoul.io:29876</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># eosphereiobp: AU, Sydney</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p-peer-address = peer2-wax.eosphere.io:9876</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># guild.nefty: FI, Finland</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p-peer-address = p2p-node2.neftyblocks.com:9876</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ledgerwiseio: FI, LB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p-peer-address = waxp2p.ledgerwise.io:21877</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># waxhiveguild: FI, Finnland</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p-peer-address = peer1.hivebp.io:9876</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you are starting the node from the 1st block, then you also need to have <strong>genesis.json</strong> file as well:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd /home/conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nano genesis.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Add the following config to the genesis.json file. This is for the <strong>WAX Mainnet</strong>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;initial_timestamp&quot;: &quot;2019-06-05T12:00:00.000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;initial_key&quot;: &quot;EOS8i2pkwtv2JmdYWNJdcy5BcJ7wCE5q6mpE1hwT25HdgHMzeRday&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;initial_configuration&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_block_net_usage&quot;: 1048576,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;target_block_net_usage_pct&quot;: 1000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_transaction_net_usage&quot;: 524288,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;base_per_transaction_net_usage&quot;: 12,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;net_usage_leeway&quot;: 500,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;context_free_discount_net_usage_num&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;context_free_discount_net_usage_den&quot;: 100,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_block_cpu_usage&quot;: 500000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;target_block_cpu_usage_pct&quot;: 2000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_transaction_cpu_usage&quot;: 150000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;min_transaction_cpu_usage&quot;: 100,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_transaction_lifetime&quot;: 3600,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;deferred_trx_expiration_window&quot;: 600,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_transaction_delay&quot;: 3888000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_inline_action_size&quot;: 4096,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_inline_action_depth&quot;: 4,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_authority_depth&quot;: 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For <strong>WAX Testnet</strong>, add the following config to the genesis.json file:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;initial_timestamp&quot;: &quot;2019-12-06T06:06:06.000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;initial_key&quot;: &quot;EOS7PmWAXLBaqCzSgbq8cyr2HFztQpwBpXk3djBJA8fyoyUnYM37q&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;initial_configuration&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_block_net_usage&quot;: 1048576,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;target_block_net_usage_pct&quot;: 1000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_transaction_net_usage&quot;: 524288,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;base_per_transaction_net_usage&quot;: 12,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;net_usage_leeway&quot;: 500,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;context_free_discount_net_usage_num&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;context_free_discount_net_usage_den&quot;: 100,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_block_cpu_usage&quot;: 200000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;target_block_cpu_usage_pct&quot;: 2500,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_transaction_cpu_usage&quot;: 150000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;min_transaction_cpu_usage&quot;: 100,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_transaction_lifetime&quot;: 3600,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;deferred_trx_expiration_window&quot;: 600,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_transaction_delay&quot;: 3888000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_inline_action_size&quot;: 4096,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_inline_action_depth&quot;: 6,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_authority_depth&quot;: 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="9-running-the-node">9. Running the Node:<a href="#9-running-the-node" class="hash-link" aria-label="Direct link to 9. Running the Node:" title="Direct link to 9. Running the Node:">â€‹</a></h5><p>Once you are through the previous steps, the next step is to get started with the steps to run the node and sync with the WAX Mainnet/Testnet:</p><p>You can start the <strong>nodeos</strong> using the command and parameters below:</p><p>For starting the node from genesis:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nodeos --disable-replay-opts --data-dir /home/data/ --config-dir /home/data/ --genesis-json=/home/conf/genesis.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For starting the node from a snapshot:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nodeos --disable-replay-opts --data-dir /home/data/ --config-dir /home/data/ --snapshot /home/data/snapshots/&lt;replace with snapshot file name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="running-and-managing-nodeos-using-scripts">Running and managing nodeos using scripts:<a href="#running-and-managing-nodeos-using-scripts" class="hash-link" aria-label="Direct link to Running and managing nodeos using scripts:" title="Direct link to Running and managing nodeos using scripts:">â€‹</a></h6><p>The below start and stop scripts will help you to daemonize and manage the nodeos service.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd /home/conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim start.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>start.sh</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DATADIR=&quot;/home/data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#change the directory path according to your configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NODEOSBINDIR=&quot;/usr/opt/wax/2013wax01-mv/bin/&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$DATADIR/stop.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo -e &quot;Starting Nodeos \n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ulimit -c unlimited</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ulimit -n 65535</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ulimit -s 64000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$NODEOSBINDIR/nodeos/nodeos --data-dir $DATADIR --config-dir $DATADIR &quot;$@&quot; &gt; $DATADIR/stdout.txt 2&gt; $DATADIR/stderr.txt &amp;  echo $! &gt; $DATADIR/nodeos.pid</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>stop.sh</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DIR=&quot;/home/data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> if [ -f $DIR&quot;/nodeos.pid&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pid=`cat $DIR&quot;/nodeos.pid&quot;`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo $pid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        kill $pid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo -ne &quot;Stoping Nodeos&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while true; do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [ ! -d &quot;/proc/$pid/fd&quot; ] &amp;&amp; break</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            echo -ne &quot;.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sleep 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rm -r $DIR&quot;/nodeos.pid&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        DATE=$(date -d &quot;now&quot; +&#x27;%Y_%m_%d-%H_%M&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if [ ! -d $DIR/logs ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            mkdir $DIR/logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tar -pcvzf $DIR/logs/stderr-$DATE.txt.tar.gz stderr.txt stdout.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo -ne &quot;\rNodeos Stopped.    \n&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>All you have to do now is start the script and monitor the logs in stderr.txt in /home/data folder.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tail -f stderr.tx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Your State-History node will now start syncing with the configured peers and catch-up with the chain headblock. It may take up to 2-3 weeks for a complete block sync from genesis for WAX Mainnet. It may also help if you choose a few closely located peers to limit peer overload and ensure low latency.</p><p>Example screenshot when the node is syncing successfully:</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/15923938/163224549-92f633fc-6ab5-4a15-adee-fe165ece874b.png" alt="image" class="img_ev3q"></p><p>As your node syncs from the start of the chain it will build the log and index files in the /blocks and /state-history directories in your /home/data folder.</p><p><strong>You can now query the node rest endpoint at http port 8888 and for websockets it is port 8080</strong></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/wax-office-of-inspector-general/wax-developer/tree/main/docs/wax-infrastructure/api-archive-guide.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/waxdevelopers_test/docs/category/wax-infrastructure-guide"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">WAX Infrastructure Guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/waxdevelopers_test/docs/wax-infrastructure/atomic-api-guide"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Atomic Assets/Market API</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pre-requisitesrequirements" class="table-of-contents__link toc-highlight">Pre-requisites/Requirements:</a></li><li><a href="#setup-and-installation" class="table-of-contents__link toc-highlight">Setup and Installation:</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/waxdevelopers_test/docs">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/rrMXw8vKv5" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/waxgov" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/waxdevelopers_test/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/wax-office-of-inspector-general/wax-developer" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 WAX Developer Portal by OIG</div></div></div></footer></div>
<script src="/waxdevelopers_test/assets/js/runtime~main.b9214fbd.js"></script>
<script src="/waxdevelopers_test/assets/js/main.5392daab.js"></script>
</body>
</html>